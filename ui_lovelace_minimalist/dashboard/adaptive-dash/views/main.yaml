---
type: "custom:layout-card"
layout_type: "custom:grid-layout"
layout:
  # Tablet portrait
  grid-template-columns: "1fr 1fr 1fr 1fr 1fr 1fr"
  grid-template-areas: |
    "chip1 chip2 . . . ."
    "weather weather weather . . ."
    "welcome welcome welcome welcome . ."
    "person1 person1 . . . ."
    "sensor1 sensor1 sensor2 sensor2 sensor3 sensor3"
    "title1 title1 title1 title1 title1 title1"
    "room1 room1 room2 room2 room3 room3"
    "room4 room4 room5 room5 room6 room6"
    "title2 title2 title2 title2 title2 title2"
    "card1 card1 card2 card2 card3 card3"
    "card4 card4 card5 card5 card6 card6"
    "title4 title4 . . . ."

  mediaquery:
    # Mobile
    "(max-width: 800px)":
      grid-template-columns: "1fr 1fr"
      grid-template-areas: |
        "chip1 chip2"
        "weather weather"
        "welcome welcome"
        "person1 sensor1"
        "sensor2 sensor3"
        "title1 title1"
        "room1 room2"
        "room3 room4"
        "room5 room6"
        "title2 title2"       
        "card1 card2"
        "card3 card4"
        "card5 card6"
        "title4 title4"

view_layout:
  grid-area: "main"
cards:
  # Chips
  - view_layout:
      grid-area: "chip1"
    type: "custom:button-card"
    template: chip_alarm
    entity: alarm_control_panel.alarm_panel

  - view_layout:
      grid-area: "chip2"
    type: "custom:button-card"
    template: chip_temperature
    entity: weather.dark_sky
    variables:
      ulm_chip_temperature_outside: sensor.dark_sky_temperature
      ulm_chip_temperature_inside: sensor.bme680_temperature #TODO: add sensor
      ulm_chip_temperature_weather: weather.dark_sky
      ulm_card_tap_action: "popup"
      ulm_custom_popup:
          template: "popup_weather_forecast"
          popup_variables:
              ulm_popup_weather_entity: weather.dark_sky

  # Weather card
  - view_layout:
      grid-area: "weather"
    type: "custom:button-card"
    template: card_weather
    entity: weather.dark_sky
    variables:
      ulm_card_weather_name: "   "
      ulm_card_weather_primary_info:
        - extrema
      ulm_card_weather_secondary_info:
        - precipitation_probability
      ulm_card_weather_backdrop: false

  # Person card
  - view_layout:
      grid-area: "person1"
    type: "custom:button-card"
    template: custom_card_imswel_person
    entity: person.russell
    variables:
      ulm_card_imswel_person_entity: person.russell
      ulm_card_imswel_person_wifi_tracker: device_tracker.pixel_4a
      ulm_card_imswel_person_gps_tracker: device_tracker.pixel_4a_3
      ulm_card_imswel_person_use_entity_picture: true

  # Elec
  - view_layout:
      grid-area: "sensor1"
    type: "custom:button-card"
    template: card_generic_swap
    entity: sensor.electric_cost_today
    variables:
      ulm_card_generic_swap_name: Elec

  # Waste collection
  - view_layout:
      grid-area: "sensor2"
    type: "custom:button-card"
    template: custom_card_paddy_waste_collection
    entity: sensor.waste_collection_household
    variables:
      ulm_card_generic_swap_icon: mdi:delete
      ulm_card_generic_swap_name: Household

  - view_layout:
      grid-area: "sensor3"
    type: "custom:button-card"
    template: custom_card_paddy_waste_collection
    entity: sensor.waste_collection_recycling
    variables:
      ulm_card_generic_swap_icon: mdi:delete
      ulm_card_generic_swap_name: Recycling

  # Welcome card
  - view_layout:
      grid-area: "welcome"
    type: "custom:button-card"
    template: "card_welcome_scenes"
    entity: input_boolean.welcome_collapse
    variables:
      ulm_card_welcome_scenes_collapse: input_boolean.welcome_collapse
      ulm_weather: weather.dark_sky
      entity_1:
        entity_id: sensor.office_person
        icon: "mdi:face-man"
        state: "1"
        name: "Office"
      entity_2:
        entity_id: sensor.anyone_home
        state: "home"
        name: "Home"
      entity_3:
        entity_id: alarm_control_panel.alarm_panel
        icon: "mdi:shield-home"
        state: "armed_away"
        name: "Alarm"
      entity_4:
        entity_id: switch.sonoff_s26_1_relay
        icon: "mdi:power-plug"
        name: "Ambi"
      entity_5:
        entity_id: switch.sonoff_s26_2_relay
        icon: "mdi:power-plug"
        name: "Clock"
      entity_6:
        entity_id: switch.smart_plug
        icon: "mdi:speaker"
        name: "Sub"

  # Rooms
  - view_layout:
      grid-area: "title1"
    type: "custom:button-card"
    template: "card_title"
    name: "Rooms"

  # Bathroom room card
  - view_layout:
      grid-area: "room1"
    type: "custom:button-card"
    template:
      - card_esh_room
      - yellow_on
    name: Bathroom
    entity: light.bathroom_light
    icon: mdi:shower-head
    tap_action:
      action: navigate
      navigation_path: "bathroom"
    variables:
      ulm_custom_card_esh_room_light_entity: light.bathroom_light

  # Bedroom room card
  - view_layout:
      grid-area: "room2"
    type: "custom:button-card"
    template:
      - card_esh_room
      - yellow_on
    name: Bedroom
    entity: light.bedroom_light
    icon: mdi:bed
    tap_action:
      action: navigate
      navigation_path: "bedroom"
    variables:
      ulm_custom_card_esh_room_light_entity: light.bedroom_light
    label: '[[[ return states["sensor.temperature_humidity_sensor_temperature"].state + "°C" ]]]'

  # Landing room card
  - view_layout:
      grid-area: "room3"
    type: "custom:button-card"
    template:
      - card_esh_room
      - yellow_on
    name: Landing
    entity: light.landing_light
    icon: mdi:stairs
    tap_action:
      action: navigate
      navigation_path: "landing"
    variables:
      ulm_custom_card_esh_room_light_entity: light.landing_light
    label: '[[[ return states["sensor.landing_temperature_2"].state + "°C" ]]]'

  # Livingroom room card
  - view_layout:
      grid-area: "room4"
    type: "custom:button-card"
    template:
      - card_esh_room
      - yellow_on
    name: Livingroom
    entity: light.lounge_light
    icon: mdi:sofa
    tap_action:
      action: navigate
      navigation_path: "livingroom"
    variables:
      ulm_custom_card_esh_room_light_entity: light.lounge_light
      ulm_custom_card_esh_room_climate_entity: climate.heating_controller
    label: '[[[ return states["sensor.lounge_temperature_humidity_temperature"].state + "°C" ]]]'

  # Office room card
  - view_layout:
      grid-area: "room5"
    type: "custom:button-card"
    template:
      - card_esh_room
      - yellow_on
    name: Office
    entity: light.office_light
    icon: mdi:chair-rolling
    tap_action:
      action: navigate
      navigation_path: "office"
    variables:
      ulm_custom_card_esh_room_light_entity: switch.office_light_switch
      ulm_custom_card_esh_room_climate_entity: climate.midea_ac_42880953513406
    label: '[[[ return states["sensor.bme680_temperature"].state + "°C" ]]]'

  # Server room card
  - view_layout:
      grid-area: "room6"
    type: "custom:button-card"
    template:
      - card_esh_room
      - yellow_on
    name: Server rack
    icon: mdi:server
    tap_action:
      action: navigate
      navigation_path: "server"
    label: '[[[ return states["sensor.upstairs_temperature"].state + "°C" ]]]'

  # Lighting
  - view_layout:
      grid-area: "title2"
    type: "custom:button-card"
    template: "card_title"
    name: "Lighting"

  # Bathroom light
  - view_layout:
      grid-area: "card1"
    type: "custom:button-card"
    template: "card_light"
    entity: light.bathroom_light
    variables:
      ulm_card_light_enable_color: true
      ulm_card_light_enable_slider: true
      ulm_card_light_enable_popup: true
      ulm_input_select_option: light 1
      ulm_input_select: input_select.minimalist_ui_switch

  # Bedroom light
  - view_layout:
      grid-area: "card2"
    type: "custom:button-card"
    template: "card_light"
    variables:
      ulm_card_light_enable_color: true
      ulm_card_light_enable_slider: true
      ulm_card_light_enable_popup: true
      ulm_input_select_option: light 2
      ulm_input_select: input_select.minimalist_ui_switch
    entity: light.bedroom_light

  # Hallway light
  - view_layout:
      grid-area: "card3"
    type: "custom:button-card"
    template: "card_light"
    variables:
      ulm_card_light_enable_color: true
      ulm_card_light_enable_slider: true
      ulm_card_light_enable_popup: true
      ulm_input_select_option: light 3
      ulm_input_select: input_select.minimalist_ui_switch
    entity: light.hallway

  # Landing light
  - view_layout:
      grid-area: "card4"
    type: "custom:button-card"
    template: "card_light"
    variables:
      ulm_card_light_enable_color: true
      ulm_card_light_enable_slider: true
      ulm_card_light_enable_popup: true
      ulm_input_select_option: light 4
      ulm_input_select: input_select.minimalist_ui_switch
    entity: light.landing_light

  # Livingroom light
  - view_layout:
      grid-area: "card5"
    type: "custom:button-card"
    template: "card_light"
    variables:
      ulm_card_light_enable_color: true
      ulm_card_light_enable_slider: true
      ulm_card_light_enable_popup: true
      ulm_input_select_option: light 5
      ulm_input_select: input_select.minimalist_ui_switch
    entity: light.lounge_light

  # Office light
  - view_layout:
      grid-area: "card6"
    type: "custom:button-card"
    template: "card_light"
    variables:
      ulm_card_light_enable_color: true
      ulm_card_light_enable_slider: true
      ulm_card_light_enable_popup: true
      ulm_input_select_option: light 6
      ulm_input_select: input_select.minimalist_ui_switch
    entity: light.office_light

  # Camera
  - view_layout:
        grid-area: "title4"
    type: "custom:button-card"
    template: "card_title"
    name: "Camera"

  # Cameras
  # - view_layout:
  #     grid-area: "camera1"
  #   type: "custom:button-card"
  #   entity: camera.lounge
  #   template: custom_card_camera
  #   show_icon: true #True if you set ulm_custom_card_camera_title: true
  #   variables:
  #     ulm_custom_card_camera_title: true
  #     ulm_custom_card_camera_name: "driveway"
  #     #ulm_custom_card_camera_label: "drive"
